# Render Deployment Guide for BusinessAstra

## üöÄ **Quick Deploy to Render**

### **Option 1: One-Click Deploy (Recommended)**

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/DevakC5/qwertyl)

### **Option 2: Manual Setup**

1. **Fork/Clone Repository**
   ```bash
   git clone https://github.com/DevakC5/qwertyl.git
   cd qwertyl
   ```

2. **Connect to Render**
   - Go to [Render Dashboard](https://dashboard.render.com)
   - Click "New +" ‚Üí "Web Service"
   - Connect your GitHub repository

3. **Configure Web Service**
   ```
   Name: businessastra
   Environment: Python 3
   Build Command: ./build.sh
   Start Command: gunicorn --config gunicorn_render.conf.py wsgi:app
   ```

4. **Add Environment Variables**
   ```
   FLASK_ENV=production
   SECRET_KEY=[Auto-generated by Render]
   TOGETHER_API_KEY=[Your Together AI API Key]
   WTF_CSRF_ENABLED=true
   FORCE_HTTPS=true
   ```

5. **Create Database**
   - Click "New +" ‚Üí "PostgreSQL"
   - Name: businessastra-db
   - Copy connection string to `DATABASE_URL` environment variable

## üîß **Environment Variables**

### **Required**
```env
SECRET_KEY=auto-generated-by-render
TOGETHER_API_KEY=your-together-ai-key-here
DATABASE_URL=postgresql://user:pass@host:port/dbname
```

### **Optional (Recommended)**
```env
FLASK_ENV=production
WTF_CSRF_ENABLED=true
FORCE_HTTPS=true
REDIS_URL=redis://user:pass@host:port/0
LOG_LEVEL=INFO
```

## üóÑÔ∏è **Database Setup**

### **PostgreSQL on Render**
1. Create PostgreSQL database in Render
2. Get connection string from database dashboard
3. Add as `DATABASE_URL` environment variable
4. Database tables will be created automatically on first run

### **Redis (Optional)**
1. Create Redis instance in Render
2. Add connection string as `REDIS_URL`
3. Enables distributed rate limiting

## üì¶ **Build Configuration**

### **Build Command**
```bash
./build.sh
```

### **Start Command**
```bash
gunicorn --config gunicorn_render.conf.py wsgi:app
```

### **Requirements**
Uses `requirements_render.txt` with Render-optimized packages:
- Compatible Pillow version
- PostgreSQL driver included
- Redis support enabled

## üîß **Troubleshooting**

### **Common Issues**

#### **Pillow Build Errors**
‚úÖ **Fixed in this deployment** - Uses compatible Pillow version and build dependencies

#### **Database Connection Errors**
```env
# Ensure DATABASE_URL is set correctly
DATABASE_URL=postgresql://user:password@host:port/database
```

#### **Missing Environment Variables**
```bash
# Check environment variables in Render dashboard
# Ensure TOGETHER_API_KEY is set
```

#### **Static Files Not Loading**
```python
# Already configured in main.py
app.config['SEND_FILE_MAX_AGE_DEFAULT'] = timedelta(hours=12)
```

### **Logs and Monitoring**

#### **View Logs**
```bash
# In Render dashboard:
# Go to your service ‚Üí Logs tab
# Real-time logs will show application output
```

#### **Health Check**
```bash
# Check if your app is healthy
curl https://your-app.onrender.com/health
```

#### **Metrics**
```bash
# Check application metrics
curl https://your-app.onrender.com/metrics
```

## üöÄ **Deployment Steps**

### **Step 1: Prepare Repository**
```bash
git add .
git commit -m "Prepare for Render deployment"
git push origin main
```

### **Step 2: Create Render Service**
1. Go to Render Dashboard
2. New Web Service
3. Connect GitHub repo
4. Configure as shown above

### **Step 3: Set Environment Variables**
- `TOGETHER_API_KEY` - Your Together AI API key
- `SECRET_KEY` - Auto-generated by Render
- `DATABASE_URL` - From PostgreSQL service

### **Step 4: Deploy**
- Click "Create Web Service"
- Wait for build and deployment
- Access your app at provided URL

## üéØ **Post-Deployment**

### **Verify Deployment**
1. **Health Check**: `https://your-app.onrender.com/health`
2. **Application**: `https://your-app.onrender.com/`
3. **Register/Login**: Test user registration
4. **File Upload**: Test document processing
5. **Chat**: Test AI conversation

### **Custom Domain (Optional)**
1. Go to Settings ‚Üí Custom Domains
2. Add your domain
3. Configure DNS records
4. Enable HTTPS

### **Monitoring**
- Enable notifications in Render
- Monitor logs for errors
- Check health endpoint regularly
- Monitor database connections

## üí° **Tips for Success**

1. **Use PostgreSQL** - More reliable than SQLite for production
2. **Enable Redis** - Better rate limiting performance
3. **Monitor Logs** - Check for any startup errors
4. **Test Thoroughly** - Verify all features work after deployment
5. **Set Alerts** - Monitor uptime and performance

## üîó **Useful Links**

- **Render Documentation**: https://render.com/docs
- **PostgreSQL Setup**: https://render.com/docs/databases
- **Environment Variables**: https://render.com/docs/environment-variables
- **Custom Domains**: https://render.com/docs/custom-domains

Your BusinessAstra app will be live and accessible worldwide! üåç
